<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a folder with a bookdown (R markdown) template to start a new protocol and optionally render to html — create_protocol • protocolhelper</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create a folder with a bookdown (R markdown) template to start a new protocol and optionally render to html — create_protocol"><meta name="description" content="This function will create a new folder based on values that are
passed on via the parameters and creates a R-markdown (bookdown) skeleton
based on a template file to start working on a new protocol.
The function is (partly) interactive and will ask for the title,
optional subtitle, the authors, reviewers, file manager and keywords.
These metadata (YAML section of index.Rmd file) will then be filled in
automatically.
The other metadata still need to be passed to the arguments of the function.
See examples section.
Optionally, the rmarkdown chapters are rendered to an html file which will
be saved in a matching subfolder of the docs folder."><meta property="og:description" content="This function will create a new folder based on values that are
passed on via the parameters and creates a R-markdown (bookdown) skeleton
based on a template file to start working on a new protocol.
The function is (partly) interactive and will ask for the title,
optional subtitle, the authors, reviewers, file manager and keywords.
These metadata (YAML section of index.Rmd file) will then be filled in
automatically.
The other metadata still need to be passed to the arguments of the function.
See examples section.
Optionally, the rmarkdown chapters are rendered to an html file which will
be saved in a matching subfolder of the docs folder."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">protocolhelper</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../news/index.html">NEWS</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../CONTRIBUTING.html">Contributing</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/inbo/protocolhelper"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/inbo.be"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.facebook.com/pg/INBOVlaanderen"><span class="fa fa-facebook"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a folder with a bookdown (R markdown) template to start a new protocol and optionally render to html</h1>
      <small class="dont-index">Source: <a href="https://github.com/inbo/protocolhelper/blob/main/R/create_protocol.R" class="external-link"><code>R/create_protocol.R</code></a></small>
      <div class="d-none name"><code>create_protocol.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function will create a new folder based on values that are
passed on via the parameters and creates a R-markdown (bookdown) skeleton
based on a template file to start working on a new protocol.
The function is (partly) interactive and will ask for the title,
optional subtitle, the authors, reviewers, file manager and keywords.
These metadata (YAML section of <code>index.Rmd</code> file) will then be filled in
automatically.
The other metadata still need to be passed to the arguments of the function.
See examples section.
Optionally, the rmarkdown chapters are rendered to an html file which will
be saved in a matching subfolder of the <code>docs</code> folder.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_protocol</span><span class="op">(</span></span>
<span>  protocol_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sfp"</span>, <span class="st">"spp"</span>, <span class="st">"sap"</span>, <span class="st">"sop"</span>, <span class="st">"sip"</span><span class="op">)</span>,</span>
<span>  <span class="va">short_title</span>,</span>
<span>  version_number <span class="op">=</span> <span class="fu"><a href="get_version_number.html">get_version_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  theme <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  project_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  language <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nl"</span>, <span class="st">"en"</span><span class="op">)</span>,</span>
<span>  from_docx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  protocol_number <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  template <span class="op">=</span> <span class="va">protocol_type</span>,</span>
<span>  render <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_sfp</span><span class="op">(</span></span>
<span>  <span class="va">short_title</span>,</span>
<span>  version_number <span class="op">=</span> <span class="fu"><a href="get_version_number.html">get_version_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  theme <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"generic"</span>, <span class="st">"water"</span>, <span class="st">"air"</span>, <span class="st">"soil"</span>, <span class="st">"vegetation"</span>, <span class="st">"species"</span><span class="op">)</span>,</span>
<span>  language <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nl"</span>, <span class="st">"en"</span><span class="op">)</span>,</span>
<span>  from_docx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  protocol_number <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  template <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sfp"</span>, <span class="st">"generic"</span><span class="op">)</span>,</span>
<span>  render <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_spp</span><span class="op">(</span></span>
<span>  <span class="va">short_title</span>,</span>
<span>  version_number <span class="op">=</span> <span class="fu"><a href="get_version_number.html">get_version_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">project_name</span>,</span>
<span>  language <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nl"</span>, <span class="st">"en"</span><span class="op">)</span>,</span>
<span>  from_docx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  protocol_number <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  template <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"spp"</span><span class="op">)</span>,</span>
<span>  render <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_sap</span><span class="op">(</span></span>
<span>  <span class="va">short_title</span>,</span>
<span>  version_number <span class="op">=</span> <span class="fu"><a href="get_version_number.html">get_version_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  language <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nl"</span>, <span class="st">"en"</span><span class="op">)</span>,</span>
<span>  from_docx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  protocol_number <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  template <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sap"</span>, <span class="st">"generic"</span><span class="op">)</span>,</span>
<span>  render <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_sip</span><span class="op">(</span></span>
<span>  <span class="va">short_title</span>,</span>
<span>  version_number <span class="op">=</span> <span class="fu"><a href="get_version_number.html">get_version_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  language <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nl"</span>, <span class="st">"en"</span><span class="op">)</span>,</span>
<span>  from_docx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  protocol_number <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  template <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sip"</span>, <span class="st">"generic"</span><span class="op">)</span>,</span>
<span>  render <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">create_sop</span><span class="op">(</span></span>
<span>  <span class="va">short_title</span>,</span>
<span>  version_number <span class="op">=</span> <span class="fu"><a href="get_version_number.html">get_version_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  language <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nl"</span>, <span class="st">"en"</span><span class="op">)</span>,</span>
<span>  from_docx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  protocol_number <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  template <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sop"</span>, <span class="st">"generic"</span><span class="op">)</span>,</span>
<span>  render <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-protocol-type">protocol_type<a class="anchor" aria-label="anchor" href="#arg-protocol-type"></a></dt>
<dd><p>Either <code>sfp</code> (standard field protocol), <code>spp</code> (
standard project protocol), <code>sap</code> (standard analytical protocol), <code>sip</code> (
standard instrument protocol), <code>sop</code> (standard operating protocol)</p></dd>


<dt id="arg-short-title">short_title<a class="anchor" aria-label="anchor" href="#arg-short-title"></a></dt>
<dd><p>A character string of less than 20 characters to use in
folder and file names</p></dd>


<dt id="arg-version-number">version_number<a class="anchor" aria-label="anchor" href="#arg-version-number"></a></dt>
<dd><p>A version number of the form <code>YYYY.##</code>.
The default is a function which will determine this number automatically.
It should normally not be changed.</p></dd>


<dt id="arg-theme">theme<a class="anchor" aria-label="anchor" href="#arg-theme"></a></dt>
<dd><p>A character string equal to one of <code>"generic"</code> (default),
<code>"water"</code>, <code>"air"</code>, <code>"soil"</code>, <code>"vegetation"</code> or <code>"species"</code>. It is used as
the folder location (<code>source/sfp/theme</code>) where standard field protocols
that belong to the same theme will be stored.
Ignored if protocol_type is other than <code>"sfp"</code>.</p></dd>


<dt id="arg-project-name">project_name<a class="anchor" aria-label="anchor" href="#arg-project-name"></a></dt>
<dd><p>A character string that is used as the folder location
(<code>source/spp/project_name</code>) where project-specific protocols that belong to
the same project will be stored. Preferably a short name or acronym. If the
folder does not exist, it will be created.
Ignored if protocol_type is other than <code>"spp"</code>.</p></dd>


<dt id="arg-language">language<a class="anchor" aria-label="anchor" href="#arg-language"></a></dt>
<dd><p>Language of the protocol, either <code>"nl"</code> (Dutch),
the default, or <code>"en"</code> (English).</p></dd>


<dt id="arg-from-docx">from_docx<a class="anchor" aria-label="anchor" href="#arg-from-docx"></a></dt>
<dd><p>A character string with the path (absolute or relative) to
a <code>.docx</code> file containing a pre-existing protocol.
Please make sure to copy-paste all relevant meta-data from the <code>.docx</code> file
to the corresponding parameters of this function.
If nothing is provided (i.e. default = NULL), an empty template will be used.</p></dd>


<dt id="arg-protocol-number">protocol_number<a class="anchor" aria-label="anchor" href="#arg-protocol-number"></a></dt>
<dd><p>A character string giving the protocol number.
This parameter should normally not be specified (i.e. NULL), unless
<code>from_docx</code> is specified.
A protocol number is a three digit string where the first digit corresponds
with a theme and the last two digits identify a protocol within a theme for
standard field protocols. A protocol number for other protocol types
is just a three digit string.
If NULL (the default), a protocol number will be determined automatically
based on pre-existing protocol numbers.
Note that for backwards compatibility with protocol numbers that were already
in use at INBO, we made a list of reserved numbers.
These reserved numbers will not be used when <code>protocol_number</code> is NULL.
The only time you will need to explicitly pass a protocol number to the
<code>protocol_number</code> argument is when you want to migrate a pre-existing INBO
protocol to <code>protocolsource</code> and hence use one of the reserved numbers.
Protocol numbers that are already in use in <code>protocolsource</code> can be retrieved
with <code><a href="get_protocolnumbers.html">get_protocolnumbers()</a></code>.</p></dd>


<dt id="arg-template">template<a class="anchor" aria-label="anchor" href="#arg-template"></a></dt>
<dd><p>Which template to use?
Default is set equal to protocol_type.
However, you can also set this to <code>"generic"</code> in which case a simplified
template will be used that can be used as an alternative to the default
templates.</p></dd>


<dt id="arg-render">render<a class="anchor" aria-label="anchor" href="#arg-render"></a></dt>
<dd><p>Whether or not to render the protocol to html.
Defaults to FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It is assumed that the <code>source</code> folder is a subfolder of an RStudio
project with git version control.
A target folder to which files will be written will be created as
subdirectories beneath <code>source</code>.
The subfolder structure is of the form
<code>/sfp/&lt;theme&gt;/&lt;sfp&gt;_&lt;protocolnumber&gt;_&lt;language&gt;_&lt;short_title&gt;/</code> for
standard field protocols.
Or <code>/spp/&lt;project_name&gt;/&lt;spp&gt;_&lt;protocolnumber&gt;_&lt;language&gt;_&lt;short_title&gt;/</code>
for standard project protocols.
Or <code>/sip/&lt;sip&gt;_&lt;protocolnumber&gt;_&lt;language&gt;_&lt;short_title&gt;/</code> for sips (and
analogous for sop and sap).
The folder names are determined by the corresponding arguments of the
function.
A matching subfolder structure will be created beneath the <code>docs</code> folder (and
output files needed for rendering to html output will be placed in it if
<code>render = TRUE</code>.
The template Rmarkdown files and the Rmarkdown files that result from
converting a docx protocol (see <code>from_docx</code> argument), will be written to
the target folder beneath <code>source</code>.
Template Rmarkdown files with the same name as Rmarkdown files that result
from converting a docx protocol will be overwritten by the latter.
Besides Rmarkdown files, this target folder will also contain files needed to
render to a Bookdown <code>gitbook</code> such as a <code>_bookdown.yml</code> and <code>_output.yml</code>.
The <code>NEWS.md</code> file must be used to document the changes between revisions
of the protocol.
Furthermore, a <code>data</code> and a <code>media</code> folder will be created as subdirectories
of the target folder.
The <code>media</code> folder can be used to store image files and will contain image
files extracted from the docx protocol when the <code>from_docx</code> argument is used.
The <code>data</code> folder can be used to store tabular data that are needed for the
protocol.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other creation:
<code><a href="add_dependencies.html">add_dependencies</a>()</code>,
<code><a href="add_one_subprotocol.html">add_one_subprotocol</a>()</code>,
<code><a href="add_subprotocols.html">add_subprotocols</a>()</code>,
<code><a href="insert_protocolsection.html">insert_protocolsection</a>()</code>,
<code><a href="update_protocol.html">update_protocol</a>()</code>,
<code><a href="update_version_number.html">update_version_number</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">protocolhelper</span><span class="fu">::</span><span class="fu">create_protocol</span><span class="op">(</span></span></span>
<span class="r-in"><span>  protocol_type <span class="op">=</span> <span class="st">"sfp"</span>,</span></span>
<span class="r-in"><span>  short_title <span class="op">=</span> <span class="st">"water 1"</span>,</span></span>
<span class="r-in"><span>  theme <span class="op">=</span> <span class="st">"water"</span>, language <span class="op">=</span> <span class="st">"en"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hans Van Calster, Thierry Onkelinx, Floris Vanderhaeghe, <a href="https://www.vlaanderen.be/inbo/en-gb" class="external-link"><img src="https://inbo.github.io/checklist/reference/figures/logo-en.png" height="24"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

